{"ast":null,"code":"var _jsxFileName = \"D:\\\\devtask\\\\client\\\\devtask\\\\src\\\\components\\\\StatusList.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { connect } from 'react-redux';\nimport { status } from \"../models/status\";\nimport { deleteStatus, initStatus, addStatus, deleteTransition } from \"../store/actions\";\nimport Status from './Status';\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// interface StatusList Props {\nlet inputi = /*#__PURE__*/React.createRef(); // },currentstatus:status\n\nconst StatusList = props => {\n  _s();\n\n  const recorphan = (arr, i, init, notorphan) => {\n    if (init === null || i == arr.length) {\n      return;\n    }\n\n    let h = arr.map(x => {\n      return x.from.name === init.name ? x.to : null;\n    });\n    i++;\n    notorphan.push(h);\n    recorphan(arr, i, h, notorphan);\n    return notorphan;\n  };\n\n  const recorphan1 = (arr, i, init) => {\n    if (init === null || i == arr.length) {\n      return;\n    }\n\n    let h = arr.map(x => {\n      return x.from.name === init.name ? x.to : null;\n    });\n    i++;\n    recorphan1(arr, i, h);\n    return h;\n  };\n\n  console.log(props.initS);\n\n  const add = name => {\n    if (name != '') {\n      let newstatus = new status(name);\n      props.addStatus(newstatus);\n    }\n  };\n\n  const deleteStatus = status => {\n    props.deleteStatus(status);\n    props.transitionList.map(item => {\n      return item.from.name === status.name || item.to.name === status.name ? props.deleteTransition(item.name) : null;\n    });\n  };\n\n  const init = s => {\n    props.initStatus(s);\n  };\n\n  useEffect(() => {\n    setA(recorphan1(props.transitionList, 0, props.initS));\n  }, [props.initS]);\n\n  const iso = item => {\n    return a ? a.map(x => {\n      return isorph && x ? x.name === item.name ? setIsorph(false) : null : null;\n    }) : null;\n  };\n\n  const [txt2, setTxt2] = useState();\n  const [a, setA] = useState([]);\n  const [isorph, setIsorph] = useState(true);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Add status\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"test\",\n      ref: element => {\n        setTxt2(element);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        add(txt2 ? txt2.value : '');\n      },\n      children: \"add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 77\n    }, this), props.statusesList.map((item, i) => {\n      return /*#__PURE__*/_jsxDEV(Status, {\n        status: item,\n        delete: deleteStatus,\n        initStatus: props.initS,\n        init: init,\n        isorphf: iso,\n        isorph: isorph\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 18\n      }, this);\n    })]\n  }, void 0, true);\n};\n\n_s(StatusList, \"K0t/tzCsmUeT2FIoe1x0+NOAzFU=\");\n\n_c = StatusList;\n\nconst myMapStateToProps = state => {\n  return {\n    transitionList: state.transitionPart.transitions,\n    initS: state.statusPart.init1,\n    statusesList: state.statusPart.statuses\n  };\n};\n\nexport default connect(myMapStateToProps, {\n  deleteStatus,\n  initStatus,\n  addStatus,\n  deleteTransition\n})(StatusList);\n\nvar _c;\n\n$RefreshReg$(_c, \"StatusList\");","map":{"version":3,"sources":["D:/devtask/client/devtask/src/components/StatusList.tsx"],"names":["React","useEffect","connect","status","deleteStatus","initStatus","addStatus","deleteTransition","Status","useState","inputi","createRef","StatusList","props","recorphan","arr","i","init","notorphan","length","h","map","x","from","name","to","push","recorphan1","console","log","initS","add","newstatus","transitionList","item","s","setA","iso","a","isorph","setIsorph","txt2","setTxt2","element","value","statusesList","myMapStateToProps","state","transitionPart","transitions","statusPart","init1","statuses"],"mappings":"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","sourcesContent":["import React, { FunctionComponent, useEffect } from \"react\";\r\nimport { connect, } from 'react-redux';\r\nimport { status } from \"../models/status\";\r\n\r\nimport { deleteStatus,initStatus,addStatus, deleteTransition } from \"../store/actions\";\r\nimport { statusReducer } from \"../store/reducers\";\r\nimport Status from './Status';\r\nimport { useState } from \"react\";\r\nimport { transition } from \"../models/transition\";\r\nimport { hrtime } from \"process\";\r\n\r\n// interface StatusList Props {\r\n let inputi = React.createRef();\r\n// },currentstatus:status\r\n\r\nconst StatusList  = (props: any) => {\r\nconst recorphan=(arr:transition[],i:number,init:any,notorphan:any[])=>{\r\n  if(init===null||i==arr.length){return;}\r\nlet h= arr.map((x:transition)=>{return x.from.name===init.name?x.to:null});\r\ni++;notorphan.push(h);recorphan(arr,i,h,notorphan);\r\nreturn notorphan; \r\n}\r\nconst recorphan1=(arr:transition[],i:number,init:any)=>{\r\n  if(init===null||i==arr.length){return;}\r\nlet h= arr.map((x:transition)=>{return x.from.name===init.name?x.to:null});\r\ni++;recorphan1(arr,i,h);\r\nreturn h; \r\n}\r\n  console.log(props.initS)\r\nconst add=(name:string)=>{\r\n  if (name!=''){\r\nlet  newstatus:status=new status(name);\r\nprops.addStatus(newstatus);\r\n}\r\n}\r\nconst deleteStatus=(status:status)=>{\r\n  props.deleteStatus(status);\r\n  props.transitionList.map((item:transition)=>{return item.from.name===status.name||item.to.name===status.name?props.deleteTransition(item.name):null})\r\n}\r\nconst init=(s:status)=>{\r\n  props.initStatus(s);\r\n}\r\nuseEffect(() => {\r\n  setA(recorphan1(props.transitionList,0,props.initS));\r\n}, [props.initS]);\r\nconst iso=(item:any)=>{return a?a.map(x=>{return isorph&&x?( x.name===item.name?setIsorph(false):null):null}):null}\r\n  const [txt2, setTxt2] = useState<HTMLInputElement|null>();\r\n  const [a, setA] = useState<any[] | undefined>([]);\r\n  const [isorph, setIsorph] = useState(true);\r\n    return  ( <>\r\n    <h1>Add status</h1>\r\n    <input type=\"test\" \tref={(element) => {  setTxt2 (element) ; }}></input><button onClick={()=>{add(txt2?txt2.value:'')}}>add</button>\r\n  {/* {setA(recorphan(props.transitionList,0,props.initS,[]))}      */}\r\n{ }\r\n {/* { props.statusesList.map((item: any, i: any)=>{\r\n   return a?a.map(x=>{return isorph&&x?(x.name===item.name?setIsorph(false):null):null}):null})}\r\n*/}\r\n { \r\nprops.statusesList.map((item: any, i: any)=>{\r\n          return <Status key={i} status={item} delete={deleteStatus} initStatus={props.initS} init={init} isorphf={iso} isorph={isorph}/>;\r\n\r\n        \r\n        })   \r\n      \r\n}       \r\n        </> ) \r\n\r\n}  \r\n\r\n \r\nconst myMapStateToProps =(state:any) =>{\r\n    return{\r\n  transitionList:state.transitionPart.transitions,\r\n  initS:state.statusPart.init1,\r\n  statusesList:state.statusPart.statuses\r\n\r\n}\r\n}\r\n\r\nexport default connect(myMapStateToProps,{deleteStatus,initStatus,addStatus,deleteTransition})(StatusList); \r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}